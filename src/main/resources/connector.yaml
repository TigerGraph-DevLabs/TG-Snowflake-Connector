# snowflake config
sfURL: lla10179.us-east-1.snowflakecomputing.com
sfUser: liusx
sfPassword: WxW7b6xJtWJpUGt
sfDatabase: tg_spark
sfSchema: synthea30g
#sfWarehouse: ""

# SnowFlake tables  -> table to import
#sfDbtable: [patients,conditions,devices,encounters,observations]
sfDbtable: [devices]

# tigergraph config
driver: com.tigergraph.jdbc.Driver
url: jdbc:tg:http://18.162.146.208:14240
username: tigergraph
password: ces123
token: k670rl16oncs359la8tf2upb5jlmrfg0
# graph name
graph: synthea

# filename defined in the loading job
filename: file_name
# separator between columns
sep: ','
# End Of Line
eol: \n
batchsize: 5000
debug: 0
# Maximum number of partitions for Spark
numPartitions: 150

# Data structure mapping
# key : SnowFlake table
# value : tg loading job mapping
#     dbtable : loading job name
#     jobConfig: config loading job
#         sfColumn : columns in SnowFlake table
mappingRules:
  patients:
    "dbtable": "job loadPatient2"
    "jobConfig":
      "sfColumn": "ID,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE"
  conditions:
    "dbtable": "job loadCondition"
    "jobConfig":
      "sfColumn": "START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION"
  devices:
    "dbtable": "job loadDevice"
    "jobConfig":
      "sfColumn": "START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI"
  encounters:
    "dbtable": "job loadEncounter"
    "jobConfig":
      "sfColumn": "ID,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION"
  observations:
    "dbtable": "job loadObservation"
    "jobConfig":
      "sfColumn": "DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,VALUE,UNITS,TYPE"
  payers:
    "dbtable": "job loadPayer"
    "jobConfig":
      "sfColumn": "ID,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS"
  immunizations:
    "dbtable": "job loadImmunization"
    "jobConfig":
      "sfColumn": "DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST"
  allergies:
    "dbtable": "job loadAllergy"
    "jobConfig":
      "sfColumn": "START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION"
  procedures:
    "dbtable": "job loadProcedure"
    "jobConfig":
      "sfColumn": "START,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION"
  providers:
    "dbtable": "job loadProvider"
    "jobConfig":
      "sfColumn": "ID,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION"
  organizations:
    "dbtable": "job loadOrganization"
    "jobConfig":
      "sfColumn": "ID,NAME,ADDRESS,CITY,STATE,ZIP,LAT,LON,PHONE,REVENUE,UTILIZATION"
  payer_transitions:
    "dbtable": "job loadTransition"
    "jobConfig":
      "sfColumn": "PATIENT,START_YEAR,END_YEAR,PAYER,OWNERSHIP"
  careplans:
    "dbtable": "job loadCareplan"
    "jobConfig":
      "sfColumn": "ID,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION"
  imaging_studies:
    "dbtable": "job loadImaging"
    "jobConfig":
      "sfColumn": "ID,DATE,PATIENT,ENCOUNTER,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,SOP_CODE,SOP_DESCRIPTION"
  medications:
    "dbtable": "job loadMedication"
    "jobConfig":
      "sfColumn": "START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION"
